{% from 'invisibleroads_uploads:templates/parts.jinja2' import upload_button %}

{% macro head_style_loaded() %}{% endmacro %}
{% macro head_style_inline() %}{% endmacro %}
{% macro head_script_inline() %}{% endmacro %}
{% macro body_script_loaded() %}{% endmacro %}
{% macro body_script_inline() %}{% endmacro %}

{% macro render_argument(data_item) %}
{% set key = data_item.key %}
<div data-name="{{ key }}">{{ upload_button(id='%s-upload-button' % key, text='Upload', class='btn-lg table-upload') }}</div>
<div id="{{ key }}">{{ render_property(data_item, class='editable-table') }}</div>
<input name="{{ key }}_csv" type="hidden">
{% endmacro %}

{% macro render_property(data_item, stamp='', class='') %}
{% set key = data_item.key + stamp %}
{% set table = data_item.value %}
<div class="scrollable">
{% if table is not none %}
<table id="{{ key }}" class="table {{ class }}">
<thead>
<tr>{% for column in table.columns %}<th>{{ column }}</th>{% endfor %}</tr>
</thead>
<tbody>
{% for index, row in table.fillna('').iterrows() %}
<tr>{% for column in row %}<td>{{ column }}</td>{% endfor %}</tr>
{% endfor %}
</tbody>
</table>
{% endif %}
</div>
{% endmacro %}
